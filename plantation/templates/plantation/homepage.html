{% extends 'plantation/base.html' %}

{% block title %}Homepage{% endblock %}

{% block content %}
    <div class="container" style="background-color: rgb(238, 232, 247);max-width: 80%; border: 1px grey solid; padding: 20px 50px 100px 50px;">
        <h2 class="text-center my-4">All Plantation Global Search</h2>

        <!-- Search Box -->

        <div style="position: relative; max-width: 100%;">
            <input type="text" id="searchBox" class="form-control form-control-lg" placeholder="Search plantations..." /> 
            <div id="resultsContainer" class="list-group" style="position: absolute; top: 100%; left: 0; right: 0; z-index: 1000;  max-height: 350px; overflow-y: auto;"></div>
        </div>
        
        


        <!-- Plantation Table -->
        <div class="container" style=" text-align: left; max-height: 450px; overflow-y: auto; ">
            <table id="plantation-table" class="table table-striped" style="border: 1px solid black;">
                <thead>
                    <tr>
                        <th>Sl No.</th>
                        <th>Plantation Name | Plantation ID</th>
                        <th>Owner | <i>Username</i></th>
                    </tr>
                </thead>
                <tbody>
                    {% for plantation in plantations %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td><a href="{% url 'plantation_details' plantation.id %}">{{ plantation.name }}</a></td>
                            <td><a href="{% url 'owner_details' plantation.owner.username %}">{{ plantation.owner.first_name }} | <i>{{ plantation.owner.username }}</i>  </a></td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
